<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SecurePort Scanner</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- Lottie player script (loaded upfront so pages can use it) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- small helper to robustly load Lottie (fetch JSON first, then create player) -->
  <script>
    function loadLottieInto(containerId, url, w='320px', h='320px') {
      const container = document.getElementById(containerId);
      if (!container) return;
      // show a small placeholder while we attempt fetch
      container.innerHTML = '<div class="lottie-placeholder">Loading‚Ä¶</div>';
      fetch(url, { method: 'GET', mode: 'cors' })
        .then(resp => {
          if (!resp.ok) throw new Error('Lottie JSON not reachable');
          // create player
          const player = document.createElement('lottie-player');
          player.setAttribute('src', url);
          player.setAttribute('background', 'transparent');
          player.setAttribute('speed', '1');
          player.setAttribute('loop', '');
          player.setAttribute('autoplay', '');
          player.style.width = w;
          player.style.height = h;
          container.innerHTML = '';
          container.appendChild(player);
        })
        .catch(err => {
          console.warn('Lottie fetch failed:', err.message);
          // fallback inline SVG to avoid broken icon
          container.innerHTML = '<svg width="220" height="220" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#15803d"/><stop offset="1" stop-color="#16a34a"/></linearGradient></defs><rect width="100%" height="100%" rx="20" fill="#071226"/><g transform="translate(3,3)" stroke="url(#g1)" fill="none" stroke-width="1.6"><rect x="2" y="6" width="14" height="10" rx="2"></rect><path d="M9 2v4" stroke-linecap="round"></path><circle cx="9" cy="11" r="1.2" fill="#16a34a"></circle></g></svg>';
        });
    }
  </script>
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="header-grid">
        <div class="header-left" aria-hidden="true"></div>

        <div class="header-center">
          <h1 class="site-title">SecurePort Scanner</h1>
        </div>

        <nav class="header-nav">
          <ul>
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('about') }}">About</a></li>
            <li><a href="{{ url_for('scan') }}">Scan</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      {% block content %}{% endblock %}
    </main>

    <footer>
      <p>üîê SecurePort Scanner ¬© 2025 | Built for Security Awareness</p>
    </footer>
  </div>
</body>
</html>
